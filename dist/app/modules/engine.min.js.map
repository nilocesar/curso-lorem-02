{"version":3,"sources":["scorm-localstorage-service.js","AcessibilityDisplayControll.js","Base.js","BehaviorAdaptative.js","Collection.js","debug.js","eventemitter.js","FixSize.js","Helpers.js","ReturnModal.js","SCORM_API_wrapper.js","Screen.js","ViewController.js","WaterMark.js","engine.js"],"names":["QUIZES","t","i","_toPrimitive","_typeof","String","STATUS","r","e","Symbol","toPrimitive","Number","call","TypeError","PASSED","COMPLETED","LESSON_STATUS","LESSON_LOCATION","_classCallCheck","LocstorService","name","this","_createClass","value","key","localStorage","getItem","setItem","console","get","length","log","JSON","parse","set","stringify","PersistanceFake","db","concat","objects","SCORM_API","SUSPEND_DATA","setObject","getObject","quizes","saveObject","loadObject","setLessonStatus","status","PersistanceService","scorm","locstor","persistance","temp_suspend_data","init","save","quit","pipwerks","debug","isActive","ScormAPIService","SCORM","ready","hasDataToSave","suspend_data","response","AcessibilityDisplayControll","_document","_acessibilityConfig","window","_window","acessibilityConfig","document","ua","setTimeout","acess_root_el","msie","indexOf","autoStyle","tools","navigator","userAgent","match","acessibility_elements","getElementsByClassName","acess_el","addEventListener","n","click","style","visibility","outlines","head","appendChild","Object","assign","createElement","textContent","_toPropertyKey","element","BehaviorAdaptative","_this","Collection","Base","screen","children","model","uid","removeChild","_engine_config","engine_config","$","body","find","css","scaleTransformAll","resize","currentWidth","proportional","scaleX","position_type","availableHeight","innerHeight","availableWidth","innerWidth","height","domRect","currentHeight","positionX","div","Math","min","scaleY","bgImage","replacedBG","data","behaviors","fullBg","background-image","background-size","background-repeat","position","left","top","min-width","min-height","-webkit-transform","-webkit-transform-origin","-webkit-box-shadow","box-shadow","documentElement","positionY","clientHeight","viewport","querySelector","clientWidth","width","setAttribute","background-position","round","bottom","display","font_size_new","each","font_size_older","undefined","fonteMedia","font_size_px","split","fontSize","CSSMediaRule","styleSheets","number","rules","styleSheet","cssRules","ruleStyle","j","cssText","deleteRule","total","num","removeRule","base","Map","iterator","startAt","next","prev","count","list","done","result","index","push","_key","temp","splice","getKeyIndex","join","callback","forEach","classList","classe","text","openclose","divArrow","innerHTML","pages","telaatual","createDiv","controls","title","makeButton","button","onclick","createDebugBtns","isCollection","readAllScreens","btn","parent","dataset","clear","view","toggle","VIEW_EVENT","LOAD_END","on","html","main","debugOn","insertBefore","childNodes","o","constructor","prototype","require","EventEmitter","haystack","needle","idx","found","FixSize","events","event","listener","removeListener","emit","args","listeners","slice","apply","once","arguments","g","path","pagepath","array","buttons_elements","fixSections","l","inner","outer","bug","offsetHeight","parentNode","el","section_elements","getElementsByTagName","fixElementHeight","_listenner","pathfix","ReturnModal","_config","_onfinished","onfinished","susppend_data","lesson_location","addModal","config","modalVoltar","objConfig","color","msg","yes","no","fadeOut","Date","Screen","UTILS","handleCompletionStatus","handleExitMode","API","isFound","handle","connection","exitStatus","completionStatus","isAvailable","findAttempts","win","findAttemptLimit","trace","g_nFindAPITries","version","AlertUserOfAPIError","g_strAPITooDeep","err","API_1484_11","traceMsgPrefix","opener","getHandle","initialize","makeBoolean","StringToBoolean","lmsConfig","startTimer","lms","errorCode","success","LMSInitialize","toString","Initialize","getCode","getInfo","terminate","LMSFinish","Terminate","parameter","LMSGetValue","GetValue","LMSSetValue","SetValue","setTimer","getTime","g_dtmInitialized","totalDuration","MillisecondsToCMIDuration","LMSCommit","Commit","action","cmi","code","parseInt","LMSGetLastError","GetLastError","LMSGetErrorString","GetErrorString","LMSGetDiagnostic","GetDiagnostic","string","toLowerCase","Boolean","_console","firebug","dtm","h","s","m","getSeconds","cs","substr","getMilliseconds","hms","current","behaviorsAdaptive","waterMark","returnModal","fixSize","level","isRoot","models","map","saveData","shuffleKey","shuffledIMap","floor","_ref","random","mapModel","makeIndexMap","arrtemp","indexMap","sample","hasOwnProperty","src","minLimit","maxLimit","index_found","pageToReturn","getIndex","selectPage","getCurrentScreen","reduce","last","_this2","pageToReturnCondition","findIndex","p","isSimpleScreen","onready","contentWindow","enterView","direction","nextScreen","walk","indexIsOutLimits","nextIndex","indexClampLimit","walkFix","property","adaptive","acessibility","bridge","behaviorAdapt","WaterMark","fullScreenControll","fullscreen_elements","k","acessibilityDisplayControll","warn","exitView","_setPrototypeOf","setPrototypeOf","bind","__proto__","LOAD_START","LOADED_SCREEN_LIMIT","_SCREEN_IS_LOADING","ViewController","subClass","superClass","current_uid","lastLoadedScreen","active","loadFirst","_assertThisInitialized","create","writable","configurable","defineProperty","scormReturn","hiddeViewsFromReaderScreen","elements","attr","full_element","getElementById","webkitIsFullScreen","mozFullScreen","msFullscreenElement","preventDefault","fullscreenElement","exitFullscreen","webkitFullscreenElement","webkitExitFullscreen","msExitFullscreen","elem","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","changeFullAtrrHandler","loadPageEvents","firstScreen","localData","remove","add","trigger","READY","removeChildFirst","waitForEl","rej","navigationDirection","getPageIndexById","lastIndex","inject","currentScreen","currentScreenUid","pagesTotal","pageIndexConfigPosition","loadedDirection","res","_id","loadScreen","then","_this3","updateSlidesStates","type","currentSlide","nextSlide","avanca","addWaterMark","waterText","index_base","waterMarkContainer","append","opacity","pointer-events","z-index","arrObjectsToDeph","reverse","parseFloat","filter","max","zIndex","_toConsumableArray","Array","from","querySelectorAll","isNaN","getComputedStyle","api","salvarDados","Create","Debuggy"],"mappings":"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","file":"engine.min.js","sourcesContent":["const QUIZES = \"quizes\";\r\nconst STATUS = {\r\n    PASSED: \"passed\",\r\n    COMPLETED: \"completed\",\r\n    FAILED: \"failed\",\r\n    INCOMPLETE: \"incomplete\",\r\n    BROWSED: \"browsed\",\r\n    NOT_ATTEMPTED: \"not attempted\"\r\n};\r\n\r\nconst SCORM_API = {\r\n    SUSPEND_DATA: \"cmi.suspend_data\",\r\n    LESSON_STATUS: \"cmi.core.lesson_status\",\r\n    LESSON_LOCATION: \"cmi.core.lesson_location\",\r\n    SCORE: \"cmi.core.score.raw\"\r\n};\r\n\nclass LocstorService {\r\n    constructor() {\r\n        this.name = 'localStorage';\r\n    }\r\n\r\n    init() {\r\n        return true;\r\n    }\r\n\r\n    get(key) {\r\n        return localStorage.getItem(key);\r\n    }\r\n\r\n    set(key, value) {\r\n        localStorage.setItem(key, value);\r\n        return true;\r\n    }\r\n    getObject(key) {\r\n        let value = this.get(key);\r\n        console.log(typeof(value))\r\n        console.log(value.length)\r\n        \r\n\r\n        console.log(key, value); \r\n        return JSON.parse(value != null && value.length > 2 ? value : \"{}\");\r\n    }\r\n    setObject(key, value) {\r\n        this.set(key, JSON.stringify(value));\r\n        return true;\r\n    }\r\n    save() {\r\n        console.log('trying to save...');\r\n        return true;\r\n    }\r\n    quit() {\r\n        console.log('trying to quit...');\r\n    }\r\n}\nclass PersistanceFake {\r\n\tstatic Create() {\r\n\t\treturn new PersistanceFake();\r\n\t}\r\n\tconstructor() {\r\n\t\tthis.name = \"PersistanceFake\";\r\n\t\tthis.db = {};\r\n\t\tconsole.log(`%c* Persistance - ${this.name} * `, \"font-weight:bold; color:purple\");\r\n\t}\r\n\r\n\tinit() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\treturn this.db[key];\r\n\t}\r\n\r\n\tset(key, value) {\r\n\t\tthis.db[key] = value;\r\n\t\tconsole.log(\"PersistanceFake >>\", key, value);\r\n\t}\r\n\r\n\tsave() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tquit() {\r\n\t\tconsole.log(\"PersistanceFake >> quit\");\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetObject(key) {\r\n\t\treturn this.get(key);\r\n\t}\r\n\r\n\tsetObject(key, value) {\r\n\t\tthis.set(key, value);\r\n\t}\r\n\r\n\tsaveObject(key, value) {\r\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\tobjects[key] = value;\r\n\t\tthis.setObject(SCORM_API.SUSPEND_DATA, objects);\r\n\t}\r\n\r\n\tremoveObject(key) {\r\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\tdelete objects[key];\r\n\t\tthis.setObject(SCORM_API.SUSPEND_DATA, objects);\r\n\t}\r\n\r\n\tloadObject(key) {\r\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\treturn objects[key];\r\n\t}\r\n\r\n\tsaveQuiz(key, value) {\r\n\t\tlet quizes = this.loadObject(QUIZES) || {};\r\n\t\tquizes[key] = value;\r\n\t\tthis.saveObject(QUIZES, quizes);\r\n\t}\r\n\r\n\tloadQuiz(key) {\r\n\t\tlet quizes = this.loadObject(QUIZES) || {};\r\n\t\treturn quizes[key];\r\n\t}\r\n\r\n\tgetQuizCollection() {\r\n\t\treturn this.loadObject(QUIZES);\r\n\t}\r\n\r\n\tsetCompleted() {\r\n\t\tthis.setLessonStatus(STATUS.COMPLETED);\r\n\t}\r\n\r\n\tsetLessonStatus(status) {\r\n\t\tthis.set(SCORM_API.LESSON_STATUS, status);\r\n\t}\r\n}\nclass PersistanceService {\r\n\tstatic Create() {\r\n\t\tpipwerks.debug.isActive = false;\r\n\t\treturn new PersistanceService(new ScormAPIService(), new LocstorService());\r\n\t}\r\n\tconstructor(scorm, locstor) {\r\n\t\tthis.scorm = scorm;\r\n\t\tthis.locstor = locstor;\r\n\t\tthis.persistance = this.scorm.ready ? this.scorm : this.locstor;\r\n\t\tthis.temp_suspend_data = null;\r\n\t\t\r\n\t\t// console.log(`%c* Persistance - ${this.persistance.name} * `, \"font-weight:bold; color:purple\");\r\n\t}\r\n\t// inicializa scorm\r\n\tinit() {\r\n\t\treturn this.persistance.init();\r\n\t}\r\n\t// retorna dados direto do scorm\r\n\tget(key) {\r\n\t\t// console.log(\"GET-PERSISTENCE\", key);\r\n\t\treturn this.persistance.get(key);\r\n\t}\r\n\t// salva dados direto no scorm\r\n\tset(key, value) {\r\n\t\treturn this.persistance.set(key, value);\r\n\t}\r\n\t// commit do scorm\r\n\tsave() {\r\n\t\treturn this.persistance.save();\r\n\t}\r\n\t//scorm quit\r\n\tquit() {\r\n\t\tthis.persistance.quit();\r\n\t}\r\n\t// retorna dados do scorm passados pelo JSON.parse\r\n\tgetObject(key) {\r\n\t\t// console.log(\"GET-PERSISTENCE-OBJECT\", key);\r\n\t\treturn this.persistance.getObject(key);\r\n\t}\r\n\t// salva dados no scorm passados pelo JSON.stringify\r\n\tsetObject(key, value) {\r\n\t\treturn this.persistance.setObject(key, value);\r\n\t}\r\n\r\n\tsaveObject(key, value) {\r\n\t\tlet objects;\r\n\r\n\t\tif(this.temp_suspend_data == null){\r\n\t\t\tobjects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\t\tthis.temp_suspend_data = objects;\r\n\t\t}else{\r\n\t\t\tobjects = this.temp_suspend_data;\r\n\t\t}\r\n\r\n\t\tobjects[key] = value;\r\n\t\tthis.temp_suspend_data = objects;\r\n\t\tthis.persistance.setObject(SCORM_API.SUSPEND_DATA, objects);\r\n\t\t\r\n\t}\r\n\r\n\tremoveObject(key) {\r\n\r\n\t\tlet objects;\r\n\r\n\t\tif(this.temp_suspend_data == null){\r\n\t\t\tobjects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\t\tthis.temp_suspend_data = objects;\r\n\t\t}else{\r\n\t\t\tobjects = this.temp_suspend_data;\r\n\t\t}\r\n\r\n\t\tdelete objects[key];\r\n\t\tthis.temp_suspend_data = objects;\r\n\t\tthis.persistance.setObject(SCORM_API.SUSPEND_DATA, objects);\r\n\t}\r\n\r\n\tloadObject(key) {\r\n\t\t\r\n\t\tlet objects;\r\n\r\n\t\tif(this.temp_suspend_data == null){\r\n\t\t\tobjects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\r\n\t\t\tthis.temp_suspend_data = objects;\r\n\t\t}else{\r\n\t\t\tobjects = this.temp_suspend_data;\r\n\t\t}\r\n\r\n\t\treturn objects[key];\r\n\t}\r\n\r\n\tsaveQuiz(key, value) {\r\n\t\tlet quizes = this.loadObject(QUIZES) || {};\r\n\t\tquizes[key] = value;\r\n\t\tthis.saveObject(QUIZES, quizes);\r\n\t}\r\n\r\n\tloadQuiz(key) {\r\n\t\tlet quizes = this.loadObject(QUIZES) || {};\r\n\t\treturn quizes[key];\r\n\t}\r\n\r\n\tgetQuizCollection() {\r\n\t\treturn this.loadObject(QUIZES);\r\n\t}\r\n\r\n\tsetCompleted() {\r\n\t\tthis.setLessonStatus(STATUS.COMPLETED);\r\n\t\tthis.persistance.save();\r\n\t}\r\n\r\n\tsetLessonStatus(status) {\r\n\t\tthis.set(SCORM_API.LESSON_STATUS, status);\r\n\t}\r\n}\nclass ScormAPIService {\r\n    constructor() {\r\n        this.name = 'scorm';\r\n        this.scorm = pipwerks.SCORM;\r\n        this.ready = this.init();\r\n        this.hasDataToSave = false;\r\n    }\r\n\r\n    saveData(key, value) {\r\n        this.suspend_data[key] = value;\r\n        this.set(SCORM_API.SUSPEND_DATA, JSON.stringify(this.suspend_data));\r\n    }\r\n\r\n    getData(key) {\r\n        //console.log(\"GET-DATA-SERVICE\", key);\r\n        return this.suspend_data[key];\r\n    }\r\n\r\n    init() {\r\n        return this.scorm.init();\r\n    }\r\n\r\n    get(key) {\r\n        //console.log(\"GET-SERVICE\", key);\r\n        return this.scorm.get(key);\r\n    }\r\n\r\n    set(key, value) {\r\n        // console.log(\"SET-OBJECT-SERVICE\", key);\r\n        let response = this.scorm.set(key, value);\r\n        this.hasDataToSave = true;\r\n\r\n        return response;\r\n    }\r\n\r\n    getObject(key) {\r\n        // console.log(\"GET-OBJECT-SERVICE\", key);\r\n        console.log(key, value);\r\n        const value = this.get(key);\r\n        return JSON.parse(value != null && value.length > 0 ? value : \"{}\");\r\n    }\r\n\r\n    setObject(key, value) {\r\n        return this.set(key, JSON.stringify(value));\r\n    }\r\n    \r\n    save() {\r\n\r\n        if(this.hasDataToSave){\r\n            this.hasDataToSave = false;\r\n            this.scorm.save();\r\n        }\r\n        \r\n    }\r\n\r\n    quit() {\r\n        this.scorm.quit();\r\n    }\r\n}","class AcessibilityDisplayControll {\r\n\r\n    constructor(_window, _document, _acessibilityConfig) {\r\n        this.window = _window;\r\n        this.document = _document\r\n        this.acessibilityConfig = _acessibilityConfig;\r\n    }\r\n        \r\n    \r\n    init(){\r\n        var autoStyle = \"\";\r\n        var ua = this.window.navigator.userAgent;\r\n        var msie = ua.indexOf(\"MSIE \");\r\n\r\n        if(this.acessibilityConfig.tools == false || msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)){\r\n            autoStyle += `\r\n                ._access-icon{\r\n                    display:none!important;\r\n                }\r\n\r\n                .acessibility_controll{\r\n                    display:none!important;\r\n                }\r\n            `;\r\n\r\n            \r\n        }else{\r\n\r\n            var acessibility_elements = this.document.getElementsByClassName(\"acessibility_controll\");\r\n            var acess_root_el = this.document.getElementsByClassName(\"_access-icon\");\r\n       \r\n            setTimeout(() => { \r\n                \r\n                if(acessibility_elements.length > 0 && acess_root_el.length > 0){\r\n                    for(var n=0; n<acessibility_elements.length;n++){\r\n                        var acess_el = acessibility_elements[n];\r\n                        acess_el.addEventListener(\"click\", function () {\r\n                            acess_root_el[0].click();\r\n                        });\r\n                    }\r\n                }else if(acess_root_el.length > 0 && acessibility_elements.length == 0){\r\n                    acess_root_el[0].style.visibility = \"visible\";\r\n                }\r\n\r\n                \r\n             }, 4000);\r\n\r\n        }\r\n\r\n       \r\n\r\n        if(!this.acessibilityConfig.outlines){\r\n            autoStyle += `\r\n                *{\r\n                    outline:none!important;\r\n                }\r\n            `;\r\n        }\r\n\r\n        this.document.head.appendChild(Object.assign(this.document.createElement(\"style\"), {textContent: autoStyle}));\r\n     \r\n    }\r\n    \r\n}\r\n","class Base {\r\n    constructor(element) {\r\n        this.element = element;\r\n        this.children = new Collection();\r\n    }\r\n    \r\n    appendChild(screen) {\r\n        this.children.set(screen.model.uid, screen);\r\n        this.element.appendChild(screen.element);\r\n    }\r\n\r\n    removeChild(screen) {\r\n        this.element.removeChild(this.children.delete(screen.model.uid).element);\r\n    }\r\n\r\n    removeChildFirst() {\r\n        this.element.removeChild(this.children.delete('_first').element);\r\n    }\r\n\r\n    removeChildLast() {\r\n        this.element.removeChild(this.children.delete('_last').element);\r\n    }\r\n}","var _engine_config;\r\nvar _this;\r\n\r\nclass BehaviorAdaptative {\r\n\r\n    constructor(_window, _document) {\r\n\r\n        this.window = _window;\r\n        this.document = _document;\r\n        _this = this;\r\n        \r\n    }\r\n\r\n    behaviorAdapt(engine_config) {\r\n\r\n        var autoStyle = \"\";\r\n\r\n        _engine_config = engine_config;\r\n        this.removeMediaQueries();\r\n\r\n        \r\n        autoStyle += `\r\n            * {\r\n                text-rendering: optimizeLegibility;\r\n                -webkit-font-smoothing: antialiased;\r\n                -moz-osx-font-smoothing: grayscale;\r\n                // -ms-flex-wrap: nowrap;\r\n                // flex-wrap: nowrap; \r\n            }\r\n        `;\r\n       \r\n\r\n        this.document.head.appendChild(Object.assign(this.document.createElement(\"style\"), {textContent: autoStyle}))\r\n\r\n        // $(this.document.body).find(\"*\").css(\"-ms-flex-wrap\", \"nowrap\");\r\n        // $(this.document.body).find(\"*\").css(\"flex-wrap\", \"nowrap\");\r\n        $(this.document.body).find(\"*\").css(\"-webkit-font-smoothing\", \"antialiased\");\r\n        $(this.document.body).find(\"*\").css(\"-moz-osx-font-smoothing\", \"grayscale\");\r\n        $(this.document.body).find(\"*\").css(\"text-rendering\", \"optimizeLegibility\");\r\n\r\n        $('html').css(\"height\", \"-webkit-fill-available\");\r\n        $(this.document).find('html').css(\"height\", \"-webkit-fill-available\");\r\n\r\n\r\n\r\n        $( this.window ).resize(function() {\r\n            _this.scaleTransformAll($(this.document.body));\r\n        });\r\n\r\n        this.scaleTransformAll($(this.document.body));\r\n\r\n    }\r\n\r\n   \r\n\r\n    scaleTransformAll(div){\r\n       \r\n        var proportional = true; \r\n        var currentWidth = _engine_config.behaviors.width;\r\n        var currentHeight = _engine_config.behaviors.height;\r\n        var availableHeight = this.window.innerHeight;\r\n        var availableWidth = this.window.innerWidth;\r\n        var scaleX = availableWidth / currentWidth;\r\n        var scaleY = availableHeight / currentHeight;\r\n        var domRect;\r\n        var positionX;\r\n        var positionY;\r\n        var viewport;\r\n        var bgImage;\r\n        var replacedBG;\r\n        \r\n        if (proportional) {\r\n            scaleX = Math.min(scaleX, scaleY);\r\n            scaleY = scaleX;\r\n        }\r\n        \r\n        \r\n        \r\n\r\n        div.find(\".simplePage\").find(\".container-template-wildcard\").find(\".row-wrap:first-child\").css({\"height\":currentHeight + \"px\"});\r\n        div.find(\".simplePage\").css({\"height\":currentHeight + \"px\"});\r\n        div.find(\".full-H\").css({\"height\":currentHeight + \"px\"});\r\n        div.find(\".col-bg\").css({\"height\":currentHeight + \"px\"});\r\n        \r\n\r\n\r\n\r\n        if($(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\") != \"none\"){\r\n            bgImage = $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\");\r\n        }else if( $(div.find(\".simplePage\").find(\".container-template-exercise-quiz\")[0]).css(\"background-image\") != \"none\"){\r\n            bgImage =  $(div.find(\".simplePage\").find(\".container-template-exercise-quiz\")[0]).css(\"background-image\");\r\n        }else{\r\n            bgImage = \"none\";\r\n        }\r\n\r\n\r\n        replacedBG = $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).data(\"replacedBg\");\r\n\r\n\r\n        var position_type;\r\n\r\n        if(div.find(\".simplePage\").length > 0){\r\n            position_type = \"fixed\";\r\n        }else if(div.find(\".onePage\").length > 0){\r\n            position_type = \"relative\";\r\n        }\r\n\r\n        if(bgImage!=\"none\"  && _engine_config.behaviors.fullBg == true || replacedBG == true){\r\n            \r\n            if(replacedBG!=true){\r\n\r\n                $(div).css({\"background-image\":bgImage,\r\n                            \"background-size\": \"cover\",\r\n                            \"background-repeat\": \"no-repeat\",\r\n                            // \"background-position\":\"center center\",\r\n                            // \"background-position\":\"0 0\"\r\n                           });\r\n\r\n\r\n                $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).data(\"replacedBg\", true);\r\n                $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\", \"\");\r\n                \r\n\r\n            }\r\n          \r\n            \r\n            // position_type\r\n            div.css({\r\n                \"position\": `${position_type}`,\r\n                \"left\": \"0px\",\r\n                \"top\": \"0px\",\r\n                \"min-width\": currentWidth + \"px\",\r\n                \"min-height\": currentHeight + \"px\",\r\n                \"-webkit-transform\": \"translate(\" + 0 + \"px, \"\r\n                                                + 0 + \"px) scale3d(\"\r\n                                                + scaleX + \", \" + scaleY + \", 1)\",\r\n                \"-webkit-transform-origin\": \"0 0\"\r\n            }); \r\n\r\n        }else{\r\n\r\n            div.css({\r\n                \"position\": `${position_type}`,\r\n                \"-webkit-box-shadow\": \"0px 0px 14px 6px rgba(0,0,0,0.44)\", \r\n                \"box-shadow\": \"0px 0px 14px 6px rgba(0,0,0,0.44)\",\r\n                \"left\": \"0px\",\r\n                \"top\": \"0px\",\r\n                \"min-width\": currentWidth + \"px\",\r\n                \"min-height\": currentHeight + \"px\",\r\n                \"-webkit-transform\": \"translate(\" + 0 + \"px, \"\r\n                                                + 0 + \"px) scale3d(\"\r\n                                                + scaleX + \", \" + scaleY + \", 1)\",\r\n                \"-webkit-transform-origin\": \"0 0\"\r\n            }); \r\n\r\n        }\r\n\r\n        \r\n\r\n\r\n        _this.changeFontSize(_engine_config);\r\n\r\n        domRect = this.document.body.getBoundingClientRect();\r\n        positionX = (this.document.documentElement.clientWidth/2) - (domRect.width/2);\r\n        positionY = (this.document.documentElement.clientHeight/2) - (domRect.height/2);\r\n        viewport = document.querySelector(\"meta[name=viewport]\");\r\n        viewport.setAttribute('content', 'width=' + domRect.width +', height=' + domRect.height + ', initial-scale=1.0, maximum-scale=1.0, user-scalable=0');\r\n\r\n\r\n\r\n        if(div.find(\".simplePage\").length > 0){\r\n            $(div).css({\r\n                \"background-position\":`0px ${positionY}px`,\r\n                \"left\":`${positionX}px`,\r\n                \"top\":`${positionY}px`\r\n            });\r\n\r\n        }else if(div.find(\".onePage\").length > 0){\r\n            $(div).css({\r\n                \"background-position\":`0px ${positionY}px`,\r\n                \"left\":`${positionX}px`,\r\n                \"top\":`0px`\r\n            });\r\n\r\n           \r\n\r\n            div.css({\r\n                // \"height\":`${domRect.height/scaleY}px`\r\n                \r\n                \r\n            });\r\n        }\r\n\r\n        \r\n\r\n        if(_engine_config.behaviors.fullBg == true ){\r\n\r\n            $(div).find('.component-template-header').css({\r\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\r\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`\r\n            });\r\n\r\n            $(div).find('.modal').css({\r\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\r\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`\r\n            });\r\n\r\n            $(div).find('.container-interaction-arrows').css({\r\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\r\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`,\r\n                \"position\": \"fixed\",\r\n                \"bottom\": 0,\r\n                \"display\": \"flex\",\r\n                \"justify-content\": \"space-between\"\r\n            });\r\n\r\n            \r\n            $(div).find('.container-arrow').css({\r\n                \"position\": \"relative\"\r\n            });\r\n        }\r\n\r\n        $(div).find('.col-bg-int').css({\r\n            \"width\":`${currentWidth/2}px`\r\n        });\r\n\r\n        \r\n\r\n        \r\n    \r\n    }\r\n\r\n    // getParentSize(element, ref){\r\n        \r\n    //     if(ref == \"width\"){\r\n    //         if(element.parent().width() <= 0){\r\n    //             _this.getParentSize(element, ref);\r\n    //         }else{\r\n    //             return element.parent().width();\r\n    //         }\r\n    //     }else if(ref == \"height\"){\r\n    //         if(element.parent().height() <= 0){\r\n    //             _this.getParentSize(element, ref);\r\n    //         }else{\r\n    //             return element.parent().height();\r\n    //         }\r\n    //     }\r\n        \r\n    // }\r\n\r\n    changeFontSize(engine_config){\r\n        $(this.document).find('p,h1,h2,h3,h4,h5,i,b,stronger,small').each(function(){\r\n            var font_size_older; \r\n            var font_size_new;\r\n            var font_size_px;\r\n\r\n            if($(this).data('fontRef') != undefined || $(this).data('fontRef') != null){\r\n                font_size_older = $(this).data('fontRef');\r\n            }else{\r\n                font_size_older = $(this).css('font-size');\r\n            }\r\n\r\n            \r\n            $(this).data('fontRef', font_size_older);\r\n            font_size_px = Math.round(font_size_older.split(\"px\")[0]);\r\n\r\n            var fonteMedia = (font_size_px + engine_config.behaviors.fontSize) /2;\r\n            font_size_new = fonteMedia * 0.063;\r\n\r\n            $(this).css('font-size', font_size_new + \"rem\");\r\n               \r\n            \r\n        });\r\n    }\r\n\r\n    removeRule() {\r\n        if (typeof _this.window.CSSMediaRule !== 'function') {\r\n            return false;\r\n        }\r\n        var styleSheets = _this.document.styleSheets;\r\n        var number = 0;\r\n    \r\n        if (!styleSheets) {\r\n            return false;\r\n        }\r\n    \r\n        for (var i = 0; i < styleSheets.length; i++) {\r\n            var styleSheet = styleSheets[i];\r\n            var rules = styleSheet.cssRules;\r\n            if (!rules) {\r\n                continue;\r\n            }\r\n            for (var j = 0; j < rules.length; j++) {\r\n                var cssText = rules[j].cssText;\r\n                var ruleStyle = rules[j].style;\r\n                \r\n                if (cssText.indexOf('@media') === 0) {\r\n                    number++;\r\n                    styleSheet.deleteRule(j);\r\n                }\r\n            }\r\n        }\r\n        if (number) {\r\n            return number;\r\n        }\r\n        return 0;\r\n    }\r\n    \r\n    removeMediaQueries() {\r\n        var num = _this.removeRule();\r\n        var total = num;\r\n        while (num) {\r\n            num = _this.removeRule();\r\n            total += num;\r\n        }\r\n        if (total) {\r\n            // console.info(total + ' media quer' + (total == 1 ? 'y' : 'ies' + ' removed'));\r\n        } else {\r\n            // console.info('No media queries removed');\r\n        }\r\n    }\r\n\r\n    \r\n\r\n}","/*\r\n    Class Collection\r\n    It's a indexed Map!\r\n*/\r\nclass Collection {\r\n\r\n    constructor() {\r\n        this.base = new Map();\r\n        this.list = [];\r\n        console.log(this[Symbol.iterator]);\r\n        this[Symbol.iterator] = this.iterator;\r\n    }\r\n\r\n    iterator(startAt) {\r\n        if (typeof startAt == \"string\") {\r\n            startAt = this.list.indexOf(startAt);\r\n        }\r\n        let count = startAt || 0;\r\n        return {\r\n            next: () => {\r\n                let result = count < this.list.length ? {\r\n                    value: this.base.get(this.list[count++]),\r\n                    done: false\r\n                } : {\r\n                    done: true\r\n                };\r\n                return result;\r\n            },\r\n            prev: () => {\r\n                let result = count > 0 ? {\r\n                    value: this.base.get(this.list[--count]),\r\n                    done: false\r\n                } : {\r\n                    done: true\r\n                };\r\n                return result;\r\n            }\r\n        };\r\n    }\r\n\r\n    indexOf(key) {\r\n        if (typeof key == \"string\") {\r\n            return this.list.indexOf(key);\r\n        }\r\n        return key;\r\n    }\r\n\r\n    first() {\r\n        return this.get('_first');\r\n    }\r\n\r\n    last() {\r\n        return this.get('_last');\r\n    }\r\n\r\n    shift() {\r\n\r\n    }\r\n\r\n    get(key) {\r\n        var index = this.getKeyIndex(key);\r\n        if (index > this.list.length - 1) {\r\n            index = this.list.length - 1;\r\n        }\r\n        if (index < 0) {\r\n            index = 0;\r\n        }\r\n        return this.base.get(this.list[index]);\r\n    }\r\n\r\n    nextOf(key) {\r\n        return this.get(this.indexOf(key) + 1);\r\n    }\r\n\r\n    prevOf(key) {\r\n        return this.get(this.indexOf(key) - 1);\r\n    }\r\n\r\n    set(key, value) {\r\n        if (this.list.indexOf(key) == -1) {\r\n            this.base.set(key, value);\r\n            this.list.push(key);\r\n        }\r\n    }\r\n\r\n    getKeyIndex(_key) {\r\n        var i = this.list.indexOf(_key);\r\n        if (_key == \"_first\") i = 0;\r\n        if (_key == \"_last\") i = this.list.length - 1;\r\n        return i;\r\n    }\r\n\r\n    delete(_key) {\r\n        var temp = this.get(_key);\r\n        this.base.delete(this.list.splice(this.getKeyIndex(_key), 1).join(''));\r\n        return temp;\r\n    }\r\n\r\n    forEach(callback) {\r\n        this.base.forEach(callback);\r\n    }\r\n\r\n    get length() {\r\n        return this.list.length;\r\n    }\r\n\r\n}\r\n","function Debuggy(view) {\r\n\r\n    function createDiv(classe, text) {\r\n        let div = document.createElement('div');\r\n        div.classList.add(classe);\r\n        if (text) {\r\n            div.textContent = text;\r\n        }\r\n\r\n        return div;\r\n    }\r\n\r\n    \r\n\r\n    let openclose = createDiv('openclose');\r\n    let divArrow = createDiv('arrow-round');\r\n    \r\n    divArrow.innerHTML += `<svg version=\"1.1\" id=\"Icons\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n    viewBox=\"0 0 32 32\" style=\"enable-background:new 0 0 32 32;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n   .st0{fill:#FFFFFF;}\r\n</style>\r\n<path class=\"st0\" d=\"M28.2,23.8l-4.5-4.5l0,0c0.9-1.6,1.3-3.4,1.3-5.3c0-6.1-4.9-11-11-11S3,7.9,3,14s4.9,11,11,11\r\n   c1.9,0,3.7-0.5,5.3-1.3l0,0l4.5,4.5c0.6,0.6,1.4,0.9,2.2,0.9s1.6-0.3,2.2-0.9C29.4,27,29.4,25,28.2,23.8z M21,15h-2.1\r\n   c-0.1,0.6-0.4,1.2-0.7,1.8l1.5,1.5c0.4,0.4,0.4,1,0,1.4C19.5,19.9,19.3,20,19,20s-0.5-0.1-0.7-0.3l-1.5-1.5C16,18.7,15,19,14,19\r\n   s-2-0.3-2.8-0.8l-1.5,1.5C9.5,19.9,9.3,20,9,20s-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.5-1.5c-0.3-0.5-0.6-1.1-0.7-1.8H7\r\n   c-0.6,0-1-0.4-1-1s0.4-1,1-1h2.1c0.1-0.6,0.4-1.2,0.7-1.8L8.3,9.7c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l1.5,1.5\r\n   c0.3-0.2,0.5-0.3,0.8-0.4c0-0.1,0-0.3,0-0.4c0-1.1,0.9-2,2-2s2,0.9,2,2c0,0.1,0,0.3,0,0.4c0.3,0.1,0.5,0.3,0.8,0.4l1.5-1.5\r\n   c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4l-1.5,1.5c0.3,0.5,0.6,1.1,0.7,1.8H21c0.6,0,1,0.4,1,1S21.6,15,21,15z\"/>\r\n</svg>`;\r\n    openclose.appendChild(divArrow);\r\n    \r\n\r\n    let telaatual = createDiv('telaatual');\r\n    let debug = createDiv('debug');\r\n    let pages = createDiv('pages');\r\n    let controls = createDiv('controls');\r\n    let title = createDiv('title', 'Flamboyant Engine');\r\n\r\n    function makeButton(text, onclick) {\r\n        let button = document.createElement('button');\r\n        button.textContent = text;\r\n        button.onclick = onclick;\r\n        return button;\r\n    }\r\n\r\n    function createDebugBtns(screen, i) {\r\n        // console.log(screen.uid, screen.parent);\r\n        let btn = makeButton((screen.parent ? screen.parent.uid + '>' : '') + screen.uid, function () {\r\n            view.goto(this.dataset.uid);\r\n        });\r\n        btn.setAttribute('data-uid', screen.uid);\r\n        pages.appendChild(btn);\r\n    }\r\n\r\n    function readAllScreens(screen) {\r\n        screen.pages.forEach((screen, i) => {\r\n            if (screen.isCollection()) {\r\n                readAllScreens(screen);\r\n            } else {\r\n                createDebugBtns(screen, i);\r\n            }\r\n        });\r\n    }\r\n\r\n    readAllScreens(view.screen);\r\n\r\n    function clearStorage() {\r\n        localStorage.clear();\r\n        location.reload();\r\n    }\r\n\r\n    controls.appendChild(makeButton('LIMPAR DADOS', clearStorage));\r\n    controls.appendChild(makeButton('AVANÇAR', () => view.next()));\r\n    controls.appendChild(makeButton('VOLTAR', () => view.prev()));\r\n\r\n    debug.appendChild(createDiv('title', 'DEBUG'));\r\n    debug.appendChild(document.createElement('hr'));\r\n    debug.appendChild(telaatual);\r\n    debug.appendChild(document.createElement('hr'));\r\n    debug.appendChild(pages);\r\n    debug.appendChild(document.createElement('hr'));\r\n    debug.appendChild(controls);\r\n    debug.appendChild(document.createElement('hr'));\r\n    debug.appendChild(title);\r\n    debug.appendChild(openclose);\r\n\r\n    openclose.onclick = function () {\r\n        debug.classList.toggle('open');\r\n    };\r\n\r\n    $(window).on(VIEW_EVENT.LOAD_END, function (data) {\r\n        // console.log(data.screen);\r\n        try {\r\n            $('.telaatual').html('Tela: ' + data.screen.model.uid);\r\n        } catch (e) {\r\n\r\n        }\r\n    });\r\n\r\n    let main = document.querySelector('body');\r\n    main.insertBefore(debug, main.childNodes[0]);\r\n    window.debugOn = true;\r\n}","/* Polyfill indexOf. */\r\nvar indexOf;\r\n\r\nif (typeof Array.prototype.indexOf === 'function') {\r\n    indexOf = function (haystack, needle) {\r\n        return haystack.indexOf(needle);\r\n    };\r\n} else {\r\n    indexOf = function (haystack, needle) {\r\n        var i = 0, length = haystack.length, idx = -1, found = false;\r\n\r\n        while (i < length && !found) {\r\n            if (haystack[i] === needle) {\r\n                idx = i;\r\n                found = true;\r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        return idx;\r\n    };\r\n};\r\n\r\n\r\n/* Polyfill EventEmitter. */\r\nvar EventEmitter = function () {\r\n    this.events = {};\r\n};\r\n\r\nEventEmitter.prototype.on = function (event, listener) {\r\n    if (typeof this.events[event] !== 'object') {\r\n        this.events[event] = [];\r\n    }\r\n\r\n    this.events[event].push(listener);\r\n};\r\n\r\nEventEmitter.prototype.removeListener = function (event, listener) {\r\n    var idx;\r\n\r\n    if (typeof this.events[event] === 'object') {\r\n        idx = indexOf(this.events[event], listener);\r\n\r\n        if (idx > -1) {\r\n            this.events[event].splice(idx, 1);\r\n        }\r\n    }\r\n};\r\n\r\nEventEmitter.prototype.emit = function (event) {\r\n    var i, listeners, length, args = [].slice.call(arguments, 1);\r\n\r\n    if (typeof this.events[event] === 'object') {\r\n        listeners = this.events[event].slice();\r\n        length = listeners.length;\r\n\r\n        for (i = 0; i < length; i++) {\r\n            listeners[i].apply(this, args);\r\n        }\r\n    }\r\n};\r\n\r\nEventEmitter.prototype.once = function (event, listener) {\r\n    this.on(event, function g () {\r\n        this.removeListener(event, g);\r\n        listener.apply(this, arguments);\r\n    });\r\n};\r\n","class FixSize {\r\n\r\n    constructor(_window, _document) {\r\n        this.window = _window;\r\n        this.document = _document\r\n    }\r\n        \r\n    \r\n    init(){\r\n\r\n        if(this.hasBug()) {\r\n            this.fixSections(true);\r\n            var buttons_elements = this.document.getElementsByTagName(\"button\");\r\n           \r\n            for(var l=0; l<buttons_elements.length;l++){\r\n                \r\n                buttons_elements[l].addEventListener(\"click\", function () {\r\n                    setTimeout(() => { \r\n                        this.fixSections(false);\r\n                     }, 200);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    hasBug () {\r\n        var outer = this.document.createElement('div');\r\n        var inner = this.document.createElement('div');\r\n        outer.setAttribute('style', 'display:-ms-flexbox; display:flex; min-height:100vh;');\r\n        outer.appendChild(inner);\r\n        (this.document.body || this.document.documentElement).appendChild(outer);\r\n\r\n        var bug = !inner.offsetHeight;\r\n        outer.parentNode.removeChild(outer);\r\n    \r\n        return bug;\r\n    }\r\n\r\n    fixElementHeight (el) {\r\n        el.style.height = 'auto'; \r\n    \r\n        var height = el.offsetHeight; \r\n        el.style.height = height + 'px'; \r\n    }\r\n\r\n    fixSections(_listenner){\r\n\r\n        var section_elements = this.document.getElementsByTagName(\"section\");\r\n\r\n        for(var l=0; l<section_elements.length;l++){\r\n            var el = section_elements[l];\r\n            \r\n            this.fixElementHeight(el);\r\n    \r\n            if(_listenner){\r\n                this.window.addEventListener('resize', function () {\r\n                    this.fixElementHeight(el);\r\n                });\r\n            }\r\n           \r\n        }\r\n        \r\n    }\r\n    \r\n}\r\n","var pathfix = function pathfix(path) {\r\n    return path.split(/[\\\\\\/]+/).join('/');\r\n};\r\n\r\nconst path = (pagepath) => pathfix('app/pages/' + pagepath);\r\n\r\nfunction shuffle(array) {\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n        let j = Math.floor(Math.random() * (i + 1));\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n    }\r\n    return array;\r\n}\r\n\r\nfunction mapModel(shuffledIMap, models) {\r\n    var arrtemp = [];\r\n    for (var i = 0; i < models.length; i++) {\r\n        arrtemp.push(models[shuffledIMap[i]]);\r\n    }\r\n    return arrtemp;\r\n}","class ReturnModal {\r\n\r\n    constructor(_window, _document, _config, _onfinished) {\r\n        this.window = _window;\r\n        this.config = _config;\r\n        this.document = _document;\r\n        this.onfinished = _onfinished;\r\n    \r\n        var susppend_data = this.window.scorm.get('cmi.suspend_data');\r\n        var lesson_location = this.window.scorm.get('cmi.core.lesson_location');\r\n\r\n        if(susppend_data != null && susppend_data != \"\" && susppend_data != undefined && susppend_data != \"{}\" || lesson_location != null && lesson_location != \"\" && lesson_location != undefined){\r\n            this.addModal();\r\n        }\r\n        else{\r\n            this.onfinished();\r\n        }\r\n    }\r\n    \r\n    addModal() {\r\n        var objConfig = this.config.modalVoltar;\r\n        $(this.document.body).append(\r\n            `<div class=\"returnModal\"> \r\n                <div class=\"confirmBox\"> \r\n                <svg tabindex=\"-1\" class=\"svg-icon\" style=\"color:${objConfig.color} ;padding-bottom: 0.9rem; width: 5rem; height: 5rem;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M512 298.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v170.666667a42.666667 42.666667 0 0 0 85.333334 0V341.333333a42.666667 42.666667 0 0 0-42.666667-42.666666z m39.253333 367.786666a32.426667 32.426667 0 0 0-3.84-7.68l-5.12-6.4a42.666667 42.666667 0 0 0-46.506666-8.96 49.066667 49.066667 0 0 0-14.08 8.96A42.666667 42.666667 0 0 0 469.333333 682.666667a42.666667 42.666667 0 0 0 3.413334 16.213333 38.4 38.4 0 0 0 23.04 23.04 40.106667 40.106667 0 0 0 32.426666 0 38.4 38.4 0 0 0 23.04-23.04A42.666667 42.666667 0 0 0 554.666667 682.666667a58.026667 58.026667 0 0 0 0-8.533334 27.306667 27.306667 0 0 0-3.413334-7.68zM512 85.333333a426.666667 426.666667 0 1 0 426.666667 426.666667A426.666667 426.666667 0 0 0 512 85.333333z m0 768a341.333333 341.333333 0 1 1 341.333333-341.333333 341.333333 341.333333 0 0 1-341.333333 341.333333z\"  /></svg>\r\n                <h1 tabindex=\"1\"> ${objConfig.msg} </h1>\r\n                <div class=\"buttons\"> \r\n                        <button tabindex=\"2\" aria-label=\"${objConfig.yes}\" id=\"confirm_rt\">${objConfig.yes}</button>\r\n                        <button tabindex=\"3\" aria-label=\"${objConfig.no}\" id=\"noconfirm_rt\">${objConfig.no}</button> \r\n                </div>\r\n                </div>\r\n            </div>`\r\n        );\r\n\r\n        var _this = this;\r\n\r\n        $(this.document.body).find(\".returnModal\").find(\"#confirm_rt\").click(function() {\r\n            $(_this.document.body).find(\".returnModal\").fadeOut();\r\n            _this.onfinished();\r\n        });\r\n\r\n        $(this.document.body).find(\".returnModal\").find(\"#noconfirm_rt\").click(function() {\r\n            localStorage.clear();\r\n            _this.window.scorm.set('cmi.suspend_data', \"{}\");\r\n            _this.window.scorm.set('cmi.core.lesson_location', \"\");\r\n            _this.onfinished();\r\n            // _this.window.navigate.goto(_this.config.pages[0].uid);\r\n            $(_this.document.body).find(\".returnModal\").fadeOut();\r\n            \r\n        });\r\n\r\n        $(this.document.body).find(\".returnModal\").find(\"button\").css(\"background-color\", objConfig.color);\r\n        \r\n        \r\n    };\r\n  \r\n\r\n}","/* =====================================================================================\r\n\r\nSCORM wrapper v1.1.7 by Philip Hutchison, May 2008 (http://pipwerks.com).\r\n\r\nCopyright (c) 2008 Philip Hutchison\r\nMIT-style license. Full license text can be found at\r\nhttp://www.opensource.org/licenses/mit-license.php\r\n\r\nThis wrapper is designed to work with both SCORM 1.2 and SCORM 2004.\r\n\r\nBased on APIWrapper.js, created by the ADL and Concurrent Technologies\r\nCorporation, distributed by the ADL (http://www.adlnet.gov/scorm).\r\n\r\nSCORM.API.find() and SCORM.API.get() functions based on ADL code,\r\nmodified by Mike Rustici (http://www.scorm.com/resources/apifinder/SCORMAPIFinder.htm),\r\nfurther modified by Philip Hutchison\r\n\r\n======================================================================================== */\r\nvar g_dtmInitialized = new Date(); // será ajustado após a inicialização\r\nvar pipwerks = {}; //pipwerks 'namespace' helps ensure no conflicts with possible other \"SCORM\" variables\r\npipwerks.UTILS = {}; //For holding UTILS functions\r\npipwerks.debug = {\r\n    //isActive: true\r\n}; //Enable (true) or disable (false) for debug mode\r\n\r\npipwerks.SCORM = { //Define the SCORM object\r\n    version: null, //Store SCORM version.\r\n    handleCompletionStatus: true, //Whether or not the wrapper should automatically handle the initial completion status\r\n    handleExitMode: true, //Whether or not the wrapper should automatically handle the exit mode\r\n    API: {\r\n        handle: null,\r\n        isFound: false\r\n    }, //Create API child object\r\n    connection: {\r\n        isActive: false\r\n    }, //Create connection child object\r\n    data: {\r\n        completionStatus: null,\r\n        exitStatus: null\r\n    }, //Create data child object\r\n    debug: {} //Create debug child object\r\n};\r\n\r\n\r\n\r\n/* --------------------------------------------------------------------------------\r\n   pipwerks.SCORM.isAvailable\r\n   A simple function to allow Flash ExternalInterface to confirm\r\n   presence of JS wrapper before attempting any LMS communication.\r\n\r\n   Parameters: none\r\n   Returns:    Boolean (true)\r\n----------------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.isAvailable = function () {\r\n    return true;\r\n};\r\n\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- SCORM.API functions ------------------------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.API.find(window)\r\n   Looks for an object named API in parent and opener windows\r\n\r\n   Parameters: window (the browser window object).\r\n   Returns:    Object if API is found, null if no API found\r\n---------------------------------------------------------------------------- */\r\npipwerks.SCORM.API.find = function (win) {\r\n\r\n    var API = null,\r\n        findAttempts = 0,\r\n        findAttemptLimit = 500,\r\n        traceMsgPrefix = \"SCORM.API.find\",\r\n        trace = pipwerks.UTILS.trace,\r\n        scorm = pipwerks.SCORM;\r\n\r\n    var g_nFindAPITries = 0;\r\n    scorm.version = \"1.2\";\r\n\r\n    \r\n\r\n    try {\r\n\r\n        while ((win.API == null) && (win.parent != null) && (win.parent != win)) {\r\n            g_nFindAPITries++;\r\n            if (g_nFindAPITries > 500) {\r\n                AlertUserOfAPIError(g_strAPITooDeep);\r\n                return null;\r\n            }\r\n            win = win.parent;\r\n        }\r\n\r\n        //        while ((!win.API && !win.API_1484_11) &&\r\n        //            (win.parent) &&\r\n        //            (win.parent != win) &&\r\n        //            (findAttempts <= findAttemptLimit)) {\r\n        //\r\n        //            findAttempts++;\r\n        //            win = win.parent;\r\n        //\r\n        //        }\r\n    } catch (err) {}\r\n\r\n\r\n    if (scorm.version) { //If SCORM version is specified by user, look for specific API\r\n\r\n        switch (scorm.version) {\r\n\r\n        case \"2004\":\r\n\r\n            if (win.API_1484_11) {\r\n\r\n                API = win.API_1484_11;\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.\");\r\n\r\n            }\r\n\r\n            break;\r\n\r\n        case \"1.2\":\r\n\r\n            try {\r\n                if (win.API) {\r\n\r\n                    API = win.API;\r\n\r\n                } else {\r\n\r\n                    trace(traceMsgPrefix + \": SCORM version 1.2 was specified by user, but API cannot be found.\");\r\n\r\n                }\r\n            } catch (err) {}\r\n\r\n            break;\r\n\r\n        }\r\n\r\n    } else { //If SCORM version not specified by user, look for APIs\r\n\r\n        if (win.API_1484_11) { //SCORM 2004-specific API.\r\n\r\n            scorm.version = \"2004\"; //Set version\r\n            API = win.API_1484_11;\r\n\r\n        } else if (win.API) { //SCORM 1.2-specific API\r\n\r\n            scorm.version = \"1.2\"; //Set version\r\n            API = win.API;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    if (API) {\r\n\r\n        trace(traceMsgPrefix + \": API found. Version: \" + scorm.version);\r\n        trace(\"API: \" + API);\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \": Error finding API. \\nFind attempts: \" + findAttempts + \". \\nFind attempt limit: \" + findAttemptLimit);\r\n\r\n    }\r\n\r\n    return API;\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.API.get()\r\n   Looks for an object named API, first in the current window's frame\r\n   hierarchy and then, if necessary, in the current window's opener window\r\n   hierarchy (if there is an opener window).\r\n\r\n   Parameters:  None.\r\n   Returns:     Object if API found, null if no API found\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.API.get = function () {\r\n\r\n    var API = null,\r\n        win = window,\r\n        find = pipwerks.SCORM.API.find,\r\n        trace = pipwerks.UTILS.trace;\r\n\r\n    if (win.parent && win.parent != win) {\r\n\r\n        API = find(win.parent);\r\n\r\n    }\r\n\r\n    if (!API && win.top.opener) {\r\n\r\n        API = find(win.top.opener);\r\n\r\n    }\r\n\r\n    if (API) {\r\n\r\n        pipwerks.SCORM.API.isFound = true;\r\n\r\n    } else {\r\n\r\n        trace(\"API.get failed: Can't find the API!\");\r\n\r\n    }\r\n\r\n    return API;\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.API.getHandle()\r\n   Returns the handle to API object if it was previously set\r\n\r\n   Parameters:  None.\r\n   Returns:     Object (the pipwerks.SCORM.API.handle variable).\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.API.getHandle = function () {\r\n\r\n    var API = pipwerks.SCORM.API;\r\n\r\n    if (!API.handle && !API.isFound) {\r\n\r\n        API.handle = API.get();\r\n\r\n    }\r\n\r\n    return API.handle;\r\n\r\n};\r\n\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- pipwerks.SCORM.connection functions --------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n/*//----------------------------------------------------------------------------\r\n   pipwerks.SCORM.connection.initialize()\r\n  // Tells the LMS to initiate the communication session.\r\n\r\n   Parameters:  None\r\n   Returns:     Boolean\r\n//---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.connection.initialize = function () {\r\n\r\n    var success = false,\r\n        scorm = pipwerks.SCORM,\r\n        completionStatus = pipwerks.SCORM.data.completionStatus,\r\n        trace = pipwerks.UTILS.trace,\r\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n        debug = pipwerks.SCORM.debug,\r\n        traceMsgPrefix = \"SCORM.connection.initialize \",\r\n        lmsConfig = window.config.lms;\r\n\r\n    \r\n    scorm.version = \"1.2\";\r\n    scorm.startTimer();\r\n    trace(\"connection.initialize called.\");\r\n\r\n\r\n    console.log(\"LMS: \" + lmsConfig.name);\r\n\r\n    if (!scorm.connection.isActive) {\r\n\r\n        var API = scorm.API.getHandle(),\r\n            errorCode = 0;\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n            case \"1.2\":\r\n                \r\n                success = makeBoolean(API.LMSInitialize(\"\").toString());\r\n                break;\r\n            case \"2004\":\r\n                success = makeBoolean(API.Initialize(\"\").toString());\r\n                break;\r\n            }\r\n\r\n            if (success) {\r\n\r\n                //Double-check that connection is active and working before returning 'true' boolean\r\n                errorCode = debug.getCode();\r\n\r\n                if (errorCode !== null && errorCode === 0) {\r\n\r\n                    scorm.connection.isActive = true;\r\n                    \r\n\r\n                    if (scorm.handleCompletionStatus) {\r\n\r\n                        //Automatically set new launches to incomplete\r\n                        completionStatus = pipwerks.SCORM.status(\"get\");\r\n\r\n                        if (completionStatus) {\r\n\r\n\r\n                            switch (completionStatus) {\r\n\r\n                                //Both SCORM 1.2 and 2004\r\n                            case \"not attempted\":\r\n                                pipwerks.SCORM.status(\"set\", \"incomplete\");\r\n                                break;\r\n\r\n                                //SCORM 2004 only\r\n                            case \"unknown\":\r\n                                pipwerks.SCORM.status(\"set\", \"incomplete\");\r\n                                break;\r\n\r\n                                //Additional options, presented here in case you'd like to use them\r\n                                //case \"completed\"  : break;\r\n                                //case \"incomplete\" : break;\r\n                                //case \"passed\"     : break;\t//SCORM 1.2 only\r\n                                //case \"failed\"     : break;\t//SCORM 1.2 only\r\n                                //case \"browsed\"    : break;\t//SCORM 1.2 only\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    success = false;\r\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                errorCode = debug.getCode();\r\n\r\n                if (errorCode !== null && errorCode !== 0) {\r\n\r\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                } else {\r\n\r\n                    trace(traceMsgPrefix + \"failed: No response from server.\");\r\n\r\n                }\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \"aborted: Connection already active.\");\r\n\r\n    }\r\n\r\n    return success;\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.connection.terminate()\r\n   Tells the LMS to terminate the communication session\r\n\r\n   Parameters:  None\r\n   Returns:     Boolean\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.connection.terminate = function () {\r\n\r\n    var success = false,\r\n        scorm = pipwerks.SCORM,\r\n        exitStatus = pipwerks.SCORM.data.exitStatus,\r\n        completionStatus = pipwerks.SCORM.data.completionStatus,\r\n        trace = pipwerks.UTILS.trace,\r\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n        debug = pipwerks.SCORM.debug,\r\n        traceMsgPrefix = \"SCORM.connection.terminate \";\r\n\r\n        scorm.version = \"1.2\";\r\n        scorm.setTimer();\r\n        scorm.save();\r\n        \r\n\r\n\r\n    if (scorm.connection.isActive) {\r\n\r\n        var API = scorm.API.getHandle(),\r\n            errorCode = 0;\r\n\r\n\r\n        if (API) {\r\n            \r\n            //ESTA LÓGICA PODE DAR PROBLEMA EM ALGUNS LMSs\r\n            if (scorm.handleExitMode && !exitStatus) {\r\n\r\n                if (completionStatus !== \"completed\" && completionStatus !== \"passed\") {\r\n\r\n                    switch (scorm.version) {\r\n                    case \"1.2\":\r\n\r\n                        var lmsConfig = window.config.lms;\r\n\r\n                        if(lmsConfig){\r\n\r\n                            if(lmsConfig.name == \"default\"){\r\n                                success = scorm.set(\"cmi.core.exit\", \"logout\");\r\n                            }else if(lmsConfig.name == \"plateau\"){\r\n                                success = scorm.set(\"cmi.core.exit\", \"suspend\");\r\n                            }\r\n                        }else{\r\n                            success = scorm.set(\"cmi.core.exit\", \"logout\");\r\n                        }\r\n                      \r\n                        \r\n                        break;\r\n                    case \"2004\":\r\n                        // success = scorm.set(\"cmi.exit\", \"suspend\");\r\n                        break;\r\n                    }\r\n\r\n                } else {\r\n\r\n                    switch (scorm.version) {\r\n                    case \"1.2\":\r\n                        success = scorm.set(\"cmi.core.exit\", \"logout\");\r\n                        break;\r\n                    case \"2004\":\r\n                        // success = scorm.set(\"cmi.exit\", \"normal\");\r\n                        break;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            \r\n\r\n            switch (scorm.version) {\r\n            case \"1.2\":   \r\n                success = makeBoolean(API.LMSFinish(\"\").toString());\r\n                break;\r\n            case \"2004\":\r\n                success = makeBoolean(API.Terminate(\"\").toString());\r\n                break;\r\n            }\r\n\r\n            if (success) {\r\n\r\n                scorm.connection.isActive = false;\r\n\r\n            } else {\r\n\r\n                errorCode = debug.getCode();\r\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \"aborted: Connection already terminated.\");\r\n\r\n    }\r\n\r\n    \r\n\r\n    return success;\r\n\r\n};\r\n\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- pipwerks.SCORM.data functions --------------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.data.get(parameter)\r\n   Requests information from the LMS.\r\n\r\n   Parameter: parameter (string, name of the SCORM data model element)\r\n   Returns:   string (the value of the specified data model element)\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.data.get = function (parameter) {\r\n\r\n    \r\n    var value = null,\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        debug = pipwerks.SCORM.debug,\r\n        traceMsgPrefix = \"SCORM.data.get(\" + parameter + \") \";\r\n\r\n    \r\n    scorm.version = \"1.2\";\r\n\r\n    if (scorm.connection.isActive) {\r\n\r\n        var API = scorm.API.getHandle(),\r\n            errorCode = 0;\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n            case \"1.2\":\r\n                value = API.LMSGetValue(parameter);\r\n                break;\r\n            case \"2004\":\r\n                value = API.GetValue(parameter);\r\n                break;\r\n            }\r\n\r\n            errorCode = debug.getCode();\r\n\r\n            //GetValue returns an empty string on errors\r\n            //Double-check errorCode to make sure empty string\r\n            //is really an error and not field value\r\n            if (value !== \"\" && errorCode === 0) {\r\n\r\n                switch (parameter) {\r\n\r\n                case \"cmi.core.lesson_status\":\r\n                case \"cmi.completion_status\":\r\n                    scorm.data.completionStatus = value;\r\n                    break;\r\n\r\n                case \"cmi.core.exit\":\r\n                case \"cmi.exit\":\r\n                    scorm.data.exitStatus = value;\r\n                    break;\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \"\\nError info: \" + debug.getInfo(errorCode));\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \"failed: API connection is inactive.\");\r\n\r\n    }\r\n\r\n    trace(traceMsgPrefix + \" value: \" + value);\r\n\r\n    return String(value);\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.data.set()\r\n   Tells the LMS to assign the value to the named data model element.\r\n   Also stores the SCO's completion status in a variable named\r\n   pipwerks.SCORM.data.completionStatus. This variable is checked whenever\r\n   pipwerks.SCORM.connection.terminate() is invoked.\r\n\r\n   Parameters: parameter (string). The data model element\r\n               value (string). The value for the data model element\r\n   Returns:    Boolean\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.data.set = function (parameter, value) {\r\n\r\n    \r\n    var success = false,\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n        debug = pipwerks.SCORM.debug,\r\n        traceMsgPrefix = \"SCORM.data.set(\" + parameter + \") \";\r\n\r\n\r\n    if (scorm.connection.isActive) {\r\n\r\n        var API = scorm.API.getHandle(),\r\n            errorCode = 0;\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n            case \"1.2\":\r\n                success = makeBoolean(API.LMSSetValue(parameter, value).toString());\r\n                break;\r\n            case \"2004\":\r\n                success = makeBoolean(API.SetValue(parameter, value).toString());\r\n                break;\r\n            }\r\n\r\n            if (success) {\r\n\r\n                if (parameter === \"cmi.core.lesson_status\" || parameter === \"cmi.completion_status\") {\r\n\r\n                    scorm.data.completionStatus = value;\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \". \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n            }\r\n\r\n            // ISTO AQUI FOI COMENTADO PARA FUNCIONAR NO FLOW\r\n\r\n            //pipwerks.SCORM.save();\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \"failed: API connection is inactive.\");\r\n\r\n    }\r\n\r\n    return success;\r\n\r\n};\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.data.save()\r\n   Add method to save course time.\r\n\r\n   Parameters: None\r\n   Returns:    Boolean\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.data.startTimer = function (parameter, value) {\r\n    g_dtmInitialized = new Date();\r\n}\r\n\r\npipwerks.SCORM.data.setTimer = function (parameter, value) {\r\n    var dtm = new Date();\r\n    var n = dtm.getTime() - g_dtmInitialized.getTime();\r\n    var totalDuration = pipwerks.UTILS.MillisecondsToCMIDuration(n);\r\n\r\n    pipwerks.SCORM.set(\"cmi.core.session_time\",totalDuration);\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.data.save()\r\n   Instructs the LMS to persist all data to this point in the session\r\n\r\n   Parameters: None\r\n   Returns:    Boolean\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.data.save = function () {\r\n\r\n    var success = false,\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n        traceMsgPrefix = \"SCORM.data.save failed\";\r\n\r\n    scorm.version = \"1.2\";\r\n    \r\n    if (scorm.connection.isActive) {\r\n\r\n        var API = scorm.API.getHandle();\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n            case \"1.2\":\r\n                success = makeBoolean(API.LMSCommit(\"\").toString());\r\n                break;\r\n            case \"2004\":\r\n                success = makeBoolean(API.Commit(\"\").toString());\r\n                break;\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \": API is null.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \": API connection is inactive.\");\r\n\r\n    }\r\n\r\n    return success;\r\n\r\n};\r\n\r\n\r\npipwerks.SCORM.status = function (action, status) {\r\n\r\n    var success = false,\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        traceMsgPrefix = \"SCORM.getStatus failed\",\r\n        cmi = \"\";\r\n\r\n    if (action !== null) {\r\n\r\n        switch (scorm.version) {\r\n        case \"1.2\":\r\n            cmi = \"cmi.core.lesson_status\";\r\n            break;\r\n        case \"2004\":\r\n            cmi = \"cmi.completion_status\";\r\n            break;\r\n        }\r\n\r\n        switch (action) {\r\n\r\n        case \"get\":\r\n            success = pipwerks.SCORM.data.get(cmi);\r\n            break;\r\n\r\n        case \"set\":\r\n            if (status !== null) {\r\n\r\n                success = pipwerks.SCORM.data.set(cmi, status);\r\n\r\n            } else {\r\n\r\n                success = false;\r\n                trace(traceMsgPrefix + \": status was not specified.\");\r\n\r\n            }\r\n\r\n            break;\r\n\r\n        default:\r\n            success = false;\r\n            trace(traceMsgPrefix + \": no valid action was specified.\");\r\n\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(traceMsgPrefix + \": action was not specified.\");\r\n\r\n    }\r\n\r\n    return success;\r\n\r\n};\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- pipwerks.SCORM.debug functions -------------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.debug.getCode\r\n   Requests the error code for the current error state from the LMS\r\n\r\n   Parameters: None\r\n   Returns:    Integer (the last error code).\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.debug.getCode = function () {\r\n\r\n    var API = pipwerks.SCORM.API.getHandle(),\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        code = 0;\r\n\r\n    if (API) {\r\n\r\n        switch (scorm.version) {\r\n        case \"1.2\":\r\n            code = parseInt(API.LMSGetLastError(), 10);\r\n            break;\r\n        case \"2004\":\r\n            code = parseInt(API.GetLastError(), 10);\r\n            break;\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(\"SCORM.debug.getCode failed: API is null.\");\r\n\r\n    }\r\n\r\n    return code;\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.debug.getInfo()\r\n   \"Used by a SCO to request the textual description for the error code\r\n   specified by the value of [errorCode].\"\r\n\r\n   Parameters: errorCode (integer).\r\n   Returns:    String.\r\n----------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.debug.getInfo = function (errorCode) {\r\n\r\n    var API = pipwerks.SCORM.API.getHandle(),\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        result = \"\";\r\n\r\n\r\n    if (API) {\r\n\r\n        switch (scorm.version) {\r\n        case \"1.2\":\r\n            result = API.LMSGetErrorString(errorCode.toString());\r\n            break;\r\n        case \"2004\":\r\n            result = API.GetErrorString(errorCode.toString());\r\n            break;\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(\"SCORM.debug.getInfo failed: API is null.\");\r\n\r\n    }\r\n\r\n    return String(result);\r\n\r\n};\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.SCORM.debug.getDiagnosticInfo\r\n   \"Exists for LMS specific use. It allows the LMS to define additional\r\n   diagnostic information through the API Instance.\"\r\n\r\n   Parameters: errorCode (integer).\r\n   Returns:    String (Additional diagnostic information about the given error code).\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.SCORM.debug.getDiagnosticInfo = function (errorCode) {\r\n\r\n    var API = pipwerks.SCORM.API.getHandle(),\r\n        scorm = pipwerks.SCORM,\r\n        trace = pipwerks.UTILS.trace,\r\n        result = \"\";\r\n\r\n    if (API) {\r\n\r\n        switch (scorm.version) {\r\n        case \"1.2\":\r\n            result = API.LMSGetDiagnostic(errorCode);\r\n            break;\r\n        case \"2004\":\r\n            result = API.GetDiagnostic(errorCode);\r\n            break;\r\n        }\r\n\r\n    } else {\r\n\r\n        trace(\"SCORM.debug.getDiagnosticInfo failed: API is null.\");\r\n\r\n    }\r\n\r\n    return String(result);\r\n\r\n};\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- Shortcuts! ---------------------------------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n\r\n// Because nobody likes typing verbose code.\r\n\r\npipwerks.SCORM.init = pipwerks.SCORM.connection.initialize;\r\npipwerks.SCORM.get = pipwerks.SCORM.data.get;\r\npipwerks.SCORM.set = pipwerks.SCORM.data.set;\r\npipwerks.SCORM.save = pipwerks.SCORM.data.save;\r\npipwerks.SCORM.startTimer = pipwerks.SCORM.data.startTimer;\r\npipwerks.SCORM.setTimer = pipwerks.SCORM.data.setTimer;\r\npipwerks.SCORM.quit = pipwerks.SCORM.connection.terminate;\r\n\r\n\r\n\r\n// ------------------------------------------------------------------------- //\r\n// --- pipwerks.UTILS functions -------------------------------------------- //\r\n// ------------------------------------------------------------------------- //\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.UTILS.StringToBoolean()\r\n   Converts 'boolean strings' into actual valid booleans.\r\n\r\n   (Most values returned from the API are the strings \"true\" and \"false\".)\r\n\r\n   Parameters: String\r\n   Returns:    Boolean\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.UTILS.StringToBoolean = function (string) {\r\n    switch (string.toLowerCase()) {\r\n    case \"true\":\r\n    case \"yes\":\r\n    case \"1\":\r\n        return true;\r\n    case \"false\":\r\n    case \"no\":\r\n    case \"0\":\r\n    case null:\r\n        return false;\r\n    default:\r\n        return Boolean(string);\r\n    }\r\n};\r\n\r\n\r\n\r\n/* -------------------------------------------------------------------------\r\n   pipwerks.UTILS.trace()\r\n   Displays error messages when in debug mode.\r\n\r\n   Parameters: msg (string)\r\n   Return:     None\r\n---------------------------------------------------------------------------- */\r\n\r\npipwerks.UTILS.trace = function (msg) {\r\n\r\n    if (pipwerks.debug.isActive) {\r\n\r\n        //Firefox users can use the 'Firebug' extension's console.\r\n        if (window.console && window.console.firebug) {\r\n            console.log(msg);\r\n            window._console.log(msg);\r\n        } else {\r\n            //alert(msg);\r\n        }\r\n\r\n    }\r\n};\r\n\r\npipwerks.UTILS.MillisecondsToCMIDuration = function (n){\r\n    var hms = \"\";\r\n    var dtm = new Date();   dtm.setTime(n);\r\n    var h = \"000\" + Math.floor(n / 3600000);\r\n    var m = \"0\" + dtm.getMinutes();\r\n    var s = \"0\" + dtm.getSeconds();\r\n    var cs = \"0\" + Math.round(dtm.getMilliseconds() / 10);\r\n    hms = h.substr(h.length-4)+\":\"+m.substr(m.length-2)+\":\";\r\n    hms += s.substr(s.length-2)+\".\"+cs.substr(cs.length-2);\r\n    return hms\r\n}","class Screen {\r\n\r\n    constructor(model, persistance, parent) {\r\n\r\n        this.element = null;\r\n        this.model = model;\r\n        this.index = -1;\r\n        this.current = null;\r\n        this.persistance = persistance;\r\n        this.parent = parent || null;\r\n        this.behaviorsAdaptive = null;\r\n        this.waterMark = null;\r\n        this.returnModal = null;\r\n        this.fixSize = null;\r\n        \r\n        \r\n\r\n        this.level = this.isRoot() ? 0 : this.parent.level + 1;\r\n        this.uid = this.isRoot() ? \"ROOT\" : model.uid;\r\n\r\n        if (this.isCollection()) {\r\n            let models = model.pages.concat([]);\r\n\r\n            // if (this.hasBehaviors()) {\r\n                \r\n            //     if (this.needToShuffle()) {\r\n            //         models = this.shuffleThe(models);\r\n            //     }\r\n\r\n            //     if (this.needToPickASample()) {\r\n\r\n            //         if (this.model.behaviors.sample < models.length) {\r\n\r\n            //             models = this.pickTheSampleOf(this.model.behaviors.sample, models);\r\n            //         }\r\n\r\n\r\n            //     }\r\n            // }\r\n            this.pages = models.map(m => new Screen(m, persistance, this));\r\n            this.current = this.pages[0];\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    isRoot() {\r\n        return this.parent === null;\r\n    }\r\n\r\n    get shuffleKey() {\r\n        return \"s\";\r\n    }\r\n\r\n    get pagesModel(){\r\n        return this.model;\r\n    }\r\n\r\n    shuffleThe(models) {\r\n        let shuffledIMap = this.loadData(this.shuffleKey) || shuffle(this.makeIndexMap(models.length));\r\n        this.saveData(this.shuffleKey, shuffledIMap);\r\n        return mapModel(shuffledIMap, models);\r\n    }\r\n\r\n    makeIndexMap(length) {\r\n        var indexMap = [];\r\n        for (let index = 0; index < length; index++) {\r\n            indexMap.push(index);\r\n        }\r\n        return indexMap;\r\n    }\r\n\r\n\r\n    saveData(key, value) {\r\n        let data = this.persistance.loadObject(this.uid) || {};\r\n        data[key] = value;\r\n        this.persistance.saveObject(this.uid, data);\r\n    }\r\n\r\n    loadData(key) {\r\n        let data = this.persistance.loadObject(this.uid) || {};\r\n        return data[key];\r\n    }\r\n\r\n    pickTheSampleOf(sample, models) {\r\n        return models.splice(0, sample);\r\n    }\r\n\r\n    needToShuffle() {\r\n        let need = this.model.behaviors.hasOwnProperty(\"shuffle\");\r\n        return need;\r\n    }\r\n\r\n    needToPickASample() {\r\n        let need = this.model.behaviors.hasOwnProperty(\"sample\");\r\n        return need;\r\n    }\r\n\r\n    hasBehaviors() {\r\n        let has = this.model.hasOwnProperty(\"behaviors\");\r\n        return has;\r\n    }\r\n\r\n    render() {\r\n        if (this.element == null) {\r\n            this.element = document.createElement(\"iframe\");\r\n            this.element.id = this.model.uid;\r\n\r\n            if (this.element.src != path(this.model.src)) {\r\n                this.element.src = path(this.model.src);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    first() {\r\n        this.index = this.minLimit();\r\n        this.current = this.pages[this.minLimit()];\r\n        \r\n        return this.current;\r\n    }\r\n\r\n    last() {\r\n        this.index = this.maxLimit();\r\n        this.current = this.pages[this.maxLimit()];\r\n        return this.current;\r\n    }\r\n\r\n    selectPage(uid) {\r\n        if (this.isSimpleScreen()) return null;\r\n        var pageToReturn = null;\r\n        let index_found = this.getIndex(uid);\r\n        if (index_found > -1) {\r\n            pageToReturn = this.goto(index_found);\r\n            if (pageToReturn.isCollection()) {\r\n                pageToReturn = pageToReturn.selectPage(pageToReturn.getCurrentScreen().uid);\r\n            }\r\n        } else {\r\n            pageToReturn = this.pages.reduce((last, current, index) => {\r\n                if (last == null) {\r\n                    if (current.model.uid == uid) {\r\n                        return current;\r\n                    } else {\r\n                        this.goto(index);\r\n                        return current.selectPage(uid);\r\n                    }\r\n                }\r\n                return last;\r\n            }, null);\r\n        }\r\n        return this.pageToReturnCondition(pageToReturn);\r\n    }\r\n\r\n    pageToReturnCondition(pageToReturn) {\r\n        if (this.isRoot() && (pageToReturn == null || pageToReturn == undefined)) {\r\n            return this.first();\r\n        }\r\n        return pageToReturn;\r\n    }\r\n    \r\n    getIndex(uid) {\r\n        let index = -1;\r\n        if (this.isCollection() && typeof uid == 'string') {\r\n            index = this.pages.findIndex(p => p.model.uid == uid);\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getCurrentScreen() {\r\n        if (this.isSimpleScreen()) return this;\r\n        return this.current.getCurrentScreen();\r\n    }\r\n\r\n    loadPageEvents(screen) {\r\n        screen.element.contentWindow.events = new EventEmitter();\r\n\r\n        screen.element.contentWindow.onready = function() {\r\n            screen.element.contentWindow.events.emit('ready');\r\n        }\r\n\r\n        screen.element.contentWindow.enterView = function(direction) {\r\n            screen.element.contentWindow.events.emit('enterView', {\r\n                direction: direction\r\n            });\r\n        }\r\n\r\n        screen.element.contentWindow.exitView = function(direction) {\r\n            screen.element.contentWindow.events.emit('exitView', {\r\n                direction: direction\r\n            });\r\n        }\r\n    }\r\n\r\n    walkFix(direction) {\r\n        if (direction < 0) {\r\n            this.index = this.maxLimit() + 1;\r\n        } else\r\n        if (direction > 0) {\r\n            this.index = this.minLimit() - 1;\r\n        }\r\n    }\r\n\r\n    walk(direction) {\r\n        let nextScreen = null;\r\n        if (this.current.isCollection()) {\r\n            nextScreen = this.current.walk(direction);\r\n        } else {\r\n            var nextIndex = this.index + direction;\r\n            let next = this.goto(nextIndex);\r\n            nextScreen = next;\r\n            if (this.indexIsOutLimits(nextIndex)) {\r\n                this.index = nextIndex;\r\n                this.indexClampLimit();\r\n                return null;\r\n            } else if (next.isCollection()) {\r\n                next.walkFix(direction);\r\n                nextScreen = next.walk(direction);\r\n            }\r\n        }\r\n        if (nextScreen == null) {\r\n            nextScreen = this.goto(this.index + direction);\r\n            if (nextScreen.isCollection()) {\r\n                nextScreen = nextScreen.last();\r\n            }\r\n        }\r\n        if (this.isRoot()) {\r\n            this.indexClampLimit();\r\n        }\r\n\r\n        \r\n\r\n        \r\n        return nextScreen;\r\n    }\r\n\r\n    indexIsOutLimits(index) {\r\n        return (index < this.minLimit() || index > this.maxLimit());\r\n    }\r\n\r\n    goto(index) {\r\n        this.index = index;\r\n        this.indexClampLimit();\r\n        this.current = this.pages[this.index];\r\n        return this.current;\r\n    }\r\n\r\n    next() {\r\n        return this.walk(1);\r\n    }\r\n\r\n    prev() {\r\n        return this.walk(-1);\r\n    }\r\n\r\n    minLimit() {\r\n        return 0;\r\n    }\r\n\r\n    maxLimit() {\r\n        return this.pages.length - 1;\r\n    }\r\n\r\n    indexClampLimit() {\r\n        if (this.index >= this.maxLimit())\r\n            this.index = this.maxLimit();\r\n        if (this.index <= this.minLimit())\r\n            this.index = this.minLimit();\r\n    }\r\n\r\n    isCollection() {\r\n        return this.model.hasOwnProperty('pages');\r\n    }\r\n\r\n    isSimpleScreen() {\r\n        return !this.isCollection();\r\n    }\r\n\r\n    inject(property, value) {\r\n        this.element.contentWindow[property] = value;\r\n        return this;\r\n    }\r\n\r\n    onready() {\r\n        \r\n        this.element.contentWindow.uid = this.model.uid;\r\n        \r\n        try {\r\n\r\n            this.element.contentWindow.onready();\r\n            var acessibilityConfig = this.element.contentWindow.engine_config.config.acessibility;\r\n          \r\n            if (this.element.contentWindow.engine_config.config.behaviors) {\r\n                if(this.element.contentWindow.engine_config.config.behaviors.adaptive){\r\n                    this.behaviorsAdaptive = new BehaviorAdaptative(this.element.contentWindow, this.element.contentWindow.document);\r\n                    this.behaviorsAdaptive.behaviorAdapt(this.element.contentWindow.engine_config.config);\r\n                }\r\n            }\r\n\r\n\r\n            //MARCA D'AGUA\r\n            if (this.element.contentWindow.engine_config.config.waterMark) {\r\n                //ADICIONANDO MARCA D'AGUA CASO ESTEJA ATIVA NO CONFIG\r\n                this.waterMark = new WaterMark(this.element.contentWindow, this.element.contentWindow.document);\r\n                this.waterMark.addWaterMark();\r\n            }\r\n\r\n            //CONTROLE DE FULL SCREEN NO CLIQUE DOS ELEMENTOS COM A CLASSE fullscreen_controll\r\n            var fullscreen_elements = this.element.contentWindow.document.getElementsByClassName(\"fullscreen_controll\");\r\n           \r\n\r\n            for(var k=0; k<fullscreen_elements.length;k++){\r\n                bridge.fullScreenControll(fullscreen_elements[k])\r\n            }\r\n\r\n\r\n            //ATIVANDO OU DESATIVANDO AS FERRAMENTAS DE ACESSIBILIDADE \r\n            if(acessibilityConfig){\r\n                this.acessibilityDisplayControll = new AcessibilityDisplayControll(this.element.contentWindow, this.element.contentWindow.document, acessibilityConfig);\r\n                this.acessibilityDisplayControll.init();\r\n            }\r\n\r\n            //AJUSTANDO O TAMANHO DAS SECTIONS EM ALGUNS NAVEGADORES\r\n            this.fixSize = new FixSize(this.element.contentWindow, this.element.contentWindow.document);\r\n            this.fixSize.init();\r\n            \r\n        } catch (e) {\r\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o método onready()', e);\r\n        }\r\n    }\r\n\r\n    enterView(direction) {\r\n        try {\r\n            this.element.contentWindow.enterView(direction);\r\n        } catch (e) {\r\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o metodo enterView()', e);\r\n        }\r\n    }\r\n\r\n    exitView(direction) {\r\n        //COMITANDO OS DADOS PARA O SCORM NO FINAL DE CADA PÁGINA.\r\n        scorm.save();\r\n\r\n        try {\r\n            if(this.element.contentWindow!=null){\r\n                this.element.contentWindow.exitView(direction);\r\n            }\r\n            \r\n        } catch (e) {\r\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o metodo exitView()', e);\r\n        }\r\n    }\r\n}","window.VIEW_EVENT = {\r\n    READY: \"viewReady\",\r\n    LOAD_START: \"viewLoadStart\",\r\n    LOAD_END: \"viewLoadEnd\",\r\n};\r\n\r\nconst LOADED_SCREEN_LIMIT = 0;\r\nvar _SCREEN_IS_LOADING = false;\r\nvar waitForEl = function(selector, callback) {\r\n    if (selector != null) {\r\n      callback();\r\n    } else {\r\n      setTimeout(function() {\r\n        waitForEl(selector, callback);\r\n      }, 100);\r\n    }\r\n}; \r\n\r\n\r\nclass ViewController extends Base {\r\n    \r\n    constructor(element, model, persistance) {\r\n        super(element);\r\n        this.persistance = persistance;\r\n        this.model = model;\r\n        this.current_uid = null;\r\n        this.screen = new Screen(this.model, this.persistance);\r\n        this.lastLoadedScreen = null;\r\n\r\n        if (config.modalVoltar.active) {\r\n            var returnModal = new ReturnModal(window, document, config, this.loadFirst.bind(this));\r\n        }\r\n        else{\r\n            this.loadFirst();\r\n        }\r\n    }\r\n\r\n\r\n    loadFirst() {\r\n        console.log(\"Modo: \" + window.scorm.persistance.name);\r\n      \r\n        if(window.scorm.persistance.name == 'localStorage'){\r\n            this.scormReturn(true);\r\n        }else{\r\n            console.log(\"Iniciando busca da API SCORM.\");\r\n            do {\r\n                this.scormReturn(false);\r\n            } while (window.scorm.scorm.scorm.connection.isActive == false);\r\n        }\r\n\r\n        bridge.hiddeViewsFromReaderScreen = function() {\r\n            var elements = '*';\r\n        \r\n            $(elements).each(function() {\r\n                if ($(this).css(\"opacity\") == 0) {\r\n                    $(this).attr(\"aria-hidden\", \"true\");\r\n                } else {\r\n                    $(this).attr(\"aria-hidden\", \"false\");\r\n                }\r\n            });\r\n        };\r\n\r\n        bridge.fullScreenControll = function(full_element){\r\n            var elem = document.getElementById(\"main\");\r\n\r\n            $(full_element).attr(\"full\", \"close\");\r\n\r\n            $( full_element ).on('click', function(e) {\r\n                e.preventDefault();\r\n                if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {\r\n                    if (document.exitFullscreen) {\r\n                        document.exitFullscreen();\r\n                    } else if (document.webkitExitFullscreen) { /* Safari */\r\n                        document.webkitExitFullscreen();\r\n                    } else if (document.msExitFullscreen) { /* IE11 */\r\n                        document.msExitFullscreen();\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if (elem.requestFullscreen) {\r\n                        elem.requestFullscreen();\r\n                    } else if (elem.webkitRequestFullscreen) { /* Safari */\r\n                        elem.webkitRequestFullscreen();\r\n                    } else if (elem.msRequestFullscreen) { /* IE11 */\r\n                        elem.msRequestFullscreen();\r\n                    }\r\n    \r\n                }\r\n            });\r\n\r\n             \r\n            if (document.addEventListener)\r\n            {\r\n                document.addEventListener('fullscreenchange', changeFullAtrrHandler, false);\r\n                document.addEventListener('mozfullscreenchange', changeFullAtrrHandler, false);\r\n                document.addEventListener('MSFullscreenChange', changeFullAtrrHandler, false);\r\n                document.addEventListener('webkitfullscreenchange', changeFullAtrrHandler, false);\r\n            }\r\n\r\n            function changeFullAtrrHandler()\r\n            {\r\n                if (!document.webkitIsFullScreen && !document.mozFullScreen && !document.msFullscreenElement)\r\n                {\r\n                    $(full_element).attr(\"full\", \"close\");\r\n                }else{\r\n                    $(full_element).attr(\"full\", \"open\");\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n\r\n\r\n        this.screen.current.loadPageEvents(this.screen.current);\r\n\r\n\r\n        \r\n        \r\n    }\r\n\r\n    scormReturn(localData) {\r\n        \r\n        if(window.scorm.scorm.scorm.connection.isActive == true || localData == true){\r\n\r\n            if(window.scorm.scorm.scorm.connection.isActive){\r\n                console.log(\"CONEXÃO ESTABELECIDA COM A API SCORM\");\r\n            }\r\n            this.current_uid = this.persistance.get(SCORM_API.LESSON_LOCATION) || null;\r\n            let firstScreen = this.screen.first();\r\n            if (typeof this.current_uid == 'string') {\r\n                firstScreen = this.screen.selectPage(this.current_uid);\r\n            }\r\n            this.loadScreen(firstScreen).then(() => {\r\n                firstScreen.element.classList.add('first-screen');\r\n                firstScreen.element.classList.remove('out');\r\n                firstScreen.element.classList.add('in');\r\n                $(window).trigger(VIEW_EVENT.READY);\r\n                firstScreen.enterView();\r\n            });\r\n          }\r\n    }\r\n\r\n    loadScreen(screen) {\r\n\r\n        if (this.children.length > LOADED_SCREEN_LIMIT) {\r\n            this.removeChildFirst();\r\n        }\r\n\r\n\r\n        return new Promise((res, rej) => {\r\n            \r\n            screen.render();\r\n            screen.element.classList.add('out');\r\n            var navigationDirection = \"\";\r\n\r\n            if(this.lastLoadedScreen != null){\r\n                var lastIndex = this.getPageIndexById(this.lastLoadedScreen.uid);\r\n\r\n                if(this.screen.index < lastIndex){\r\n                    navigationDirection = \"prev\";\r\n                }else if(this.screen.index > lastIndex){\r\n                    navigationDirection = \"next\";\r\n                }else{\r\n                    navigationDirection = \"notChanged\";\r\n                }\r\n            }else{\r\n                navigationDirection = \"first\";\r\n            }\r\n\r\n            screen.element.onload = () => {\r\n                \r\n                screen  \r\n                    .inject('navigate', {\r\n                        goto: this.goto.bind(this),\r\n                        next: this.next.bind(this),\r\n                        prev: this.prev.bind(this),\r\n                        currentScreen: this.screen,\r\n                        currentScreenUid: this.screen.model.pages[this.screen.index].uid,\r\n                        pagesTotal: this.screen.model.pages.length,\r\n                        pageIndexConfigPosition: this.screen.index,\r\n                        lastLoadedScreen: this.lastLoadedScreen,\r\n                        loadedDirection: navigationDirection\r\n                        \r\n                    })\r\n                    .inject('engine_config', {\r\n                        config: config,\r\n                    })\r\n                    .inject('scorm', this.persistance)\r\n                    .inject('bridge', bridge)\r\n                    .onready() \r\n                res(screen);\r\n            };\r\n            \r\n            this.appendChild(screen);\r\n        });\r\n        \r\n        \r\n    }\r\n\r\n    getPageIndexById(_id){\r\n        for (var i=0; i< config.pages.length;i++) {\r\n           if(_id ==  config.pages[i].uid){\r\n               return i;\r\n           }\r\n        }\r\n    }\r\n\r\n\r\n    goto(uid) {\r\n        let next = null;\r\n        let direction = true;\r\n        let current = this.screen.getCurrentScreen();\r\n\r\n        \r\n\r\n        this.lastLoadedScreen = current;\r\n\r\n        if(!_SCREEN_IS_LOADING){\r\n           \r\n            if (uid == \"_next\") {\r\n                next = this.screen.next();\r\n            } else if (uid == \"_prev\") {\r\n                next = this.screen.prev();\r\n                direction = false;\r\n            } else {\r\n                next = this.screen.selectPage(uid);\r\n            }\r\n            if (next && next.uid != current.uid) {\r\n                this.current_uid = next.model.uid;\r\n    \r\n                $(window).trigger(VIEW_EVENT.LOAD_START);\r\n                _SCREEN_IS_LOADING = true;\r\n                \r\n                \r\n                this.loadScreen(next).then(() => {\r\n                    current.exitView();\r\n                    next.enterView();\r\n                    this.updateSlidesStates(direction, current.element, next.element);\r\n                    this.persistance.set(SCORM_API.LESSON_LOCATION, next.model.uid);\r\n                    $(window).trigger({\r\n                        type: VIEW_EVENT.LOAD_END,\r\n                        screen: next\r\n                    });\r\n    \r\n                    _SCREEN_IS_LOADING = false;\r\n                    \r\n                });\r\n\r\n                next.loadPageEvents(next);\r\n               \r\n\r\n                return true;\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n    updateSlidesStates(avanca, currentSlide, nextSlide) {\r\n        \r\n        currentSlide.classList.remove('first-screen');\r\n        nextSlide.classList.remove('first-screen');\r\n        if (avanca) {\r\n            currentSlide.classList.add('in');\r\n        } else {\r\n            currentSlide.classList.remove('in');\r\n        }\r\n        currentSlide.classList.add('out');\r\n        nextSlide.classList.remove('out');\r\n        nextSlide.classList.add('in');\r\n    }\r\n\r\n    next() {\r\n        this.goto('_next');\r\n    }\r\n\r\n    prev() {\r\n        this.goto('_prev');\r\n    }\r\n}","class WaterMark {\r\n\r\n    constructor(_window, _document) {\r\n\r\n        this.window = _window;\r\n        this.document = _document;   \r\n    }\r\n    \r\n    addWaterMark() {\r\n        var waterMarkContainer = this.document.createElement('div');\r\n        var waterText = this.window.scorm.get('cmi.core.student_id');\r\n        var index_base = 2;\r\n\r\n        $(this.document.body).append(waterMarkContainer);\r\n        $(waterMarkContainer).css(\r\n            {\r\n                \"width\": \"103vw\",\r\n                \"height\": \"100vh\",\r\n                \"position\": \"fixed\",\r\n                \"top\": \"0\",\r\n                \"left\": \"0\",\r\n                \"opacity\": \"0.05\",\r\n                \"pointer-events\" : \"none\",\r\n                \"z-index\": index_base,\r\n                \r\n            }\r\n        );\r\n\r\n        for (var i = 0; i < 4200; i++) {\r\n            $(waterMarkContainer).append(waterText + \" \");\r\n        }\r\n\r\n        var arrObjectsToDeph = $(this.document).find('p,h1,h2,h3,h4,h5,i,b,stronger, a, .container-slides, .container-item-card, video, audio, .component-template-header, .container-accordeon, .container-timeline, .exercise-memory, .remove_waterMark');\r\n        arrObjectsToDeph = arrObjectsToDeph.get().reverse();\r\n\r\n\r\n        $(arrObjectsToDeph).each(function(){\r\n\r\n            if($(this).css(\"position\") != \"absolute\" && $(this).css(\"position\") != \"fixed\"){\r\n                $(this).css(\r\n                    {\r\n                        \"position\": \"relative\",\r\n                        \"z-index\": index_base++\r\n                    }\r\n                );\r\n            }\r\n            else{\r\n                $(this).css(\r\n                    {\r\n                        \"z-index\": index_base++\r\n                    }\r\n                );\r\n            }\r\n            \r\n        });        \r\n\r\n    };\r\n\r\n    getMaxZIndex() {\r\n        return Math.max(\r\n          ...Array.from(this.document.querySelectorAll('body *'), el =>\r\n            parseFloat(this.window.getComputedStyle(el).zIndex),\r\n          ).filter(zIndex => !Number.isNaN(zIndex)),\r\n          0,\r\n        );\r\n      }\r\n      \r\n\r\n}","(function () {\r\n\r\n    const persistir = config.hasOwnProperty('salvarDados') ? config.salvarDados : true;\r\n    const api = persistir ? PersistanceService.Create() : new PersistanceFake();\r\n\r\n    window.scorm = api;\r\n    window.bridge = new EventEmitter();\r\n    window.view = new ViewController(document.querySelector('#main'), config, api);\r\n\r\n    if (config.debug) Debuggy(window.view);\r\n\r\n})();"]}